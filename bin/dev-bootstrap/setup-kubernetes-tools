#!/usr/bin/env bash
set -euo pipefail

echo "üîß Setting up Kubernetes CLI helpers..."

# Ensure runners/helpers/kubectl exists
mkdir -p "$HOME/bin/runners/helpers/kubectl"

# Symlink helpers into ~/bin
ln -sf "$HOME/bin/runners/helpers/kubectl/kc-help" "$HOME/bin/kc-help"
ln -sf "$HOME/bin/runners/helpers/kubectl/kc-versions" "$HOME/bin/kc-versions"
ln -sf "$HOME/bin/runners/helpers/kubectl/kc-check" "$HOME/bin/kc-check"
ln -sf "$HOME/bin/runners/helpers/kubectl/kc-plugins" "$HOME/bin/kc-plugins"

echo "‚úÖ Kubernetes helper scripts linked:"
echo "   ‚Ä¢ kc-versions"
echo "   ‚Ä¢ kc-check"
echo "   ‚Ä¢ kc-plugins"

# Check dependencies
command -v docker >/dev/null || echo "‚ö†Ô∏è Docker is not installed or not in PATH."
command -v kubectl >/dev/null || echo "‚ö†Ô∏è kubectl is not installed or not in PATH."
kubectl krew &>/dev/null || echo "‚ö†Ô∏è kubectl krew not installed. You may need to install it."
